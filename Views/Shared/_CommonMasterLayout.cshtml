<!DOCTYPE html>

<html lang="en" class="light-style layout-menu-fixed" data-theme="theme-default" data-framework="aspnetcore-mvc"
    data-template='vertical-menu-aspnet-core-mvc-template-free'>

<head>
    <meta charset="utf-8" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

    <!-- Core Styles -->
    @await Html.PartialAsync("Sections/_Styles")
    <!--/ Core Styles -->

    <!-- Vendor Styles -->
    @RenderSection("VendorStyles", required: false)
    <!--/ Vendor Styles -->

    <!-- Page Styles -->
    @RenderSection("PageStyles", required: false)
    <!--/ Page Styles -->

</head>

<body>
    <!-- Layout Content -->
    @RenderBody()
    <!--/ Layout Content -->

    <!-- Core Scripts -->
    @await Html.PartialAsync("Sections/_Scripts")
    <!--/ Core Scripts -->

    <!-- Vendor Scripts -->
    @RenderSection("VendorScripts", required: false)
    <!--/ Vendor Scripts -->

    <!-- Main JS-->
    <!--/ Main JS-->

    <!-- Page Scripts-->
    @RenderSection("PageScripts", required: false)
    <!--/ Page Scripts-->

    <!-- Toast Container -->
    <div aria-live="polite" aria-atomic="true" class="position-relative">
        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <!-- Success Toast -->
            <div id="successToast" class="toast align-items-center text-bg-success border-0" role="alert"
                aria-live="assertive" aria-atomic="true">
                <div class="d-flex">
                    <div class="toast-body">
                        @TempData["SuccessMessage"]
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                        aria-label="Close"></button>
                </div>
            </div>

            <!-- Error Toast -->
            <div id="errorToast" class="toast align-items-center text-bg-danger border-0" role="alert"
                aria-live="assertive" aria-atomic="true">
                <div class="d-flex">
                    <div class="toast-body">
                        @TempData["ErrorMessage"]
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                        aria-label="Close"></button>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            var successMessage = '@TempData["SuccessMessage"]';
            var errorMessage = '@TempData["ErrorMessage"]';

            if (successMessage && !sessionStorage.getItem('successToastShown')) {
                var successToast = new bootstrap.Toast(document.getElementById('successToast'));
                successToast.show();
                sessionStorage.setItem('successToastShown', 'true');
            }

            if (errorMessage) {
                var errorToast = new bootstrap.Toast(document.getElementById('errorToast'));
                errorToast.show();
            }
        });
    </script>
</body>

</html>